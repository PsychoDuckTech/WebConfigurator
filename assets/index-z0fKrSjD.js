(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();const Un=!1;var lr=Array.isArray,dl=Array.prototype.indexOf,bn=Array.from,sr=Object.defineProperty,Wn=Object.getOwnPropertyDescriptor,ir=Object.getOwnPropertyDescriptors,ar=Object.getPrototypeOf;const tt=()=>{};function fl(e){return e()}function pn(e){for(var t=0;t<e.length;t++)e[t]()}const le=2,or=4,Wt=8,mn=16,Ee=32,rt=64,Kt=128,re=256,Ot=512,J=1024,Te=2048,lt=4096,xe=8192,Gt=16384,pl=32768,kn=65536,hl=1<<17,_l=1<<19,vr=1<<20,Pt=Symbol("$state");function cr(e){return e===this.v}function ur(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function dr(e){return!ur(e,this.v)}function yl(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function gl(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function wl(e){throw new Error("https://svelte.dev/e/effect_orphan")}function bl(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function ml(){throw new Error("https://svelte.dev/e/state_unsafe_local_read")}function kl(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let yt=!1,xl=!1;function El(){yt=!0}const Tl=1,Sl=2,Ll=16,Ml=1,Fl=2,Cl=Symbol(),Dl="http://www.w3.org/1999/xhtml";function Al(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let S=null;function Gn(e){S=e}function fr(e,t=!1,n){S={p:S,c:null,e:null,m:!1,s:e,x:null,l:null},yt&&!t&&(S.l={s:null,u:null,r1:[],r2:Rt(!1)})}function pr(e){const t=S;if(t!==null){const i=t.e;if(i!==null){var n=x,r=m;t.e=null;try{for(var s=0;s<i.length;s++){var l=i[s];Oe(l.effect),Ke(l.reaction),Xt(l.fn)}}finally{Oe(n),Ke(r)}}S=t.p,t.m=!0}return{}}function gt(){return!yt||S!==null&&S.l===null}function Rt(e,t){var n={f:0,v:e,reactions:null,equals:cr,rv:0,wv:0};return n}function xn(e,t=!1){var r;const n=Rt(e);return t||(n.equals=dr),yt&&S!==null&&S.l!==null&&((r=S.l).s??(r.s=[])).push(n),n}function Ct(e,t=!1){return Nl(xn(e,t))}function Nl(e){return m!==null&&!oe&&(m.f&le)!==0&&(_e===null?Wl([e]):_e.push(e)),e}function ae(e,t){return m!==null&&!oe&&gt()&&(m.f&(le|mn))!==0&&(_e===null||!_e.includes(e))&&kl(),It(e,t)}function It(e,t){return e.equals(t)||(e.v,e.v=t,e.wv=Dr(),hr(e,Te),gt()&&x!==null&&(x.f&J)!==0&&(x.f&(Ee|rt))===0&&(ke===null?Gl([e]):ke.push(e))),t}function hr(e,t){var n=e.reactions;if(n!==null)for(var r=gt(),s=n.length,l=0;l<s;l++){var i=n[l],a=i.f;(a&Te)===0&&(!r&&i===x||(ye(i,t),(a&(J|re))!==0&&((a&le)!==0?hr(i,lt):jt(i))))}}let Bl=!1;function Yn(e){return e!==null&&typeof e=="object"&&Pt in e?e[Pt]:e}function Kl(e,t){return Object.is(Yn(e),Yn(t))}var Xn,_r,yr,gr;function Ol(){if(Xn===void 0){Xn=window,_r=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype;yr=Wn(t,"firstChild").get,gr=Wn(t,"nextSibling").get,e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0,Text.prototype.__t=void 0}}function wr(e=""){return document.createTextNode(e)}function nt(e){return yr.call(e)}function Yt(e){return gr.call(e)}function d(e,t){return nt(e)}function un(e,t){{var n=nt(e);return n instanceof Comment&&n.data===""?Yt(n):n}}function p(e,t=1,n=!1){let r=e;for(;t--;)r=Yt(r);return r}function Pl(e){e.textContent=""}function En(e){var t=le|Te,n=m!==null&&(m.f&le)!==0?m:null;return x===null||n!==null&&(n.f&re)!==0?t|=re:x.f|=vr,{ctx:S,deps:null,effects:null,equals:cr,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:n??x}}function ft(e){const t=En(e);return t.equals=dr,t}function br(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)Be(t[n])}}function Rl(e){for(var t=e.parent;t!==null;){if((t.f&le)===0)return t;t=t.parent}return null}function Il(e){var t,n=x;Oe(Rl(e));try{br(e),t=Nr(e)}finally{Oe(n)}return t}function mr(e){var t=Il(e),n=(Ne||(e.f&re)!==0)&&e.deps!==null?lt:J;ye(e,n),e.equals(t)||(e.v=t,e.wv=Dr())}function kr(e){x===null&&m===null&&wl(),m!==null&&(m.f&re)!==0&&x===null&&gl(),Ln&&yl()}function $l(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function st(e,t,n,r=!0){var s=x,l={ctx:S,deps:null,nodes_start:null,nodes_end:null,f:e|Te,first:null,fn:t,last:null,next:null,parent:s,prev:null,teardown:null,transitions:null,wv:0};if(n)try{Mn(l),l.f|=pl}catch(c){throw Be(l),c}else t!==null&&jt(l);var i=n&&l.deps===null&&l.first===null&&l.nodes_start===null&&l.teardown===null&&(l.f&(vr|Kt))===0;if(!i&&r&&(s!==null&&$l(l,s),m!==null&&(m.f&le)!==0)){var a=m;(a.effects??(a.effects=[])).push(l)}return l}function xr(e){const t=st(Wt,null,!1);return ye(t,J),t.teardown=e,t}function hn(e){kr();var t=x!==null&&(x.f&Ee)!==0&&S!==null&&!S.m;if(t){var n=S;(n.e??(n.e=[])).push({fn:e,effect:x,reaction:m})}else{var r=Xt(e);return r}}function zl(e){return kr(),Er(e)}function ql(e){const t=st(rt,e,!0);return(n={})=>new Promise(r=>{n.outro?$t(t,()=>{Be(t),r(void 0)}):(Be(t),r(void 0))})}function Xt(e){return st(or,e,!1)}function Er(e){return st(Wt,e,!0)}function D(e,t=[],n=En){const r=t.map(n);return Tn(()=>e(...r.map(v)))}function Tn(e,t=0){return st(Wt|mn|t,e,!0)}function _t(e,t=!0){return st(Wt|Ee,e,!0,t)}function Tr(e){var t=e.teardown;if(t!==null){const n=Ln,r=m;Jn(!0),Ke(null);try{t.call(null)}finally{Jn(n),Ke(r)}}}function Sr(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){var r=n.next;(n.f&rt)!==0?n.parent=null:Be(n,t),n=r}}function Vl(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Ee)===0&&Be(t),t=n}}function Be(e,t=!0){var n=!1;if((t||(e.f&_l)!==0)&&e.nodes_start!==null){for(var r=e.nodes_start,s=e.nodes_end;r!==null;){var l=r===s?null:Yt(r);r.remove(),r=l}n=!0}Sr(e,t&&!n),Ut(e,0),ye(e,Gt);var i=e.transitions;if(i!==null)for(const c of i)c.stop();Tr(e);var a=e.parent;a!==null&&a.first!==null&&Lr(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function Lr(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function $t(e,t){var n=[];Sn(e,n,!0),Mr(n,()=>{Be(e),t&&t()})}function Mr(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var s of e)s.out(r)}else t()}function Sn(e,t,n){if((e.f&xe)===0){if(e.f^=xe,e.transitions!==null)for(const i of e.transitions)(i.is_global||n)&&t.push(i);for(var r=e.first;r!==null;){var s=r.next,l=(r.f&kn)!==0||(r.f&Ee)!==0;Sn(r,t,l?n:!1),r=s}}}function zt(e){Fr(e,!0)}function Fr(e,t){if((e.f&xe)!==0){e.f^=xe,(e.f&J)===0&&(e.f^=J),wt(e)&&(ye(e,Te),jt(e));for(var n=e.first;n!==null;){var r=n.next,s=(n.f&kn)!==0||(n.f&Ee)!==0;Fr(n,s?t:!1),n=r}if(e.transitions!==null)for(const l of e.transitions)(l.is_global||t)&&l.in()}}let qt=[];function Hl(){var e=qt;qt=[],pn(e)}function Ul(e){qt.length===0&&queueMicrotask(Hl),qt.push(e)}let Nt=!1,_n=!1,Vt=null,He=!1,Ln=!1;function Jn(e){Ln=e}let Bt=[];let m=null,oe=!1;function Ke(e){m=e}let x=null;function Oe(e){x=e}let _e=null;function Wl(e){_e=e}let P=null,X=0,ke=null;function Gl(e){ke=e}let Cr=1,Ht=0,Ne=!1,Ve=null;function Dr(){return++Cr}function wt(e){var y;var t=e.f;if((t&Te)!==0)return!0;if((t&lt)!==0){var n=e.deps,r=(t&re)!==0;if(n!==null){var s,l,i=(t&Ot)!==0,a=r&&x!==null&&!Ne,c=n.length;if(i||a){var u=e,h=u.parent;for(s=0;s<c;s++)l=n[s],(i||!((y=l==null?void 0:l.reactions)!=null&&y.includes(u)))&&(l.reactions??(l.reactions=[])).push(u);i&&(u.f^=Ot),a&&h!==null&&(h.f&re)===0&&(u.f^=re)}for(s=0;s<c;s++)if(l=n[s],wt(l)&&mr(l),l.wv>e.wv)return!0}(!r||x!==null&&!Ne)&&ye(e,J)}return!1}function Yl(e,t){for(var n=t;n!==null;){if((n.f&Kt)!==0)try{n.fn(e);return}catch{n.f^=Kt}n=n.parent}throw Nt=!1,e}function Xl(e){return(e.f&Gt)===0&&(e.parent===null||(e.parent.f&Kt)===0)}function Jt(e,t,n,r){if(Nt){if(n===null&&(Nt=!1),Xl(t))throw e;return}n!==null&&(Nt=!0);{Yl(e,t);return}}function Ar(e,t,n=!0){var r=e.reactions;if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];(l.f&le)!==0?Ar(l,t,!1):t===l&&(n?ye(l,Te):(l.f&J)!==0&&ye(l,lt),jt(l))}}function Nr(e){var f;var t=P,n=X,r=ke,s=m,l=Ne,i=_e,a=S,c=oe,u=e.f;P=null,X=0,ke=null,Ne=(u&re)!==0&&(oe||!He||m===null),m=(u&(Ee|rt))===0?e:null,_e=null,Gn(e.ctx),oe=!1,Ht++;try{var h=(0,e.fn)(),y=e.deps;if(P!==null){var o;if(Ut(e,X),y!==null&&X>0)for(y.length=X+P.length,o=0;o<P.length;o++)y[X+o]=P[o];else e.deps=y=P;if(!Ne)for(o=X;o<y.length;o++)((f=y[o]).reactions??(f.reactions=[])).push(e)}else y!==null&&X<y.length&&(Ut(e,X),y.length=X);if(gt()&&ke!==null&&!oe&&y!==null&&(e.f&(le|lt|Te))===0)for(o=0;o<ke.length;o++)Ar(ke[o],e);return s!==null&&Ht++,h}finally{P=t,X=n,ke=r,m=s,Ne=l,_e=i,Gn(a),oe=c}}function Jl(e,t){let n=t.reactions;if(n!==null){var r=dl.call(n,e);if(r!==-1){var s=n.length-1;s===0?n=t.reactions=null:(n[r]=n[s],n.pop())}}n===null&&(t.f&le)!==0&&(P===null||!P.includes(t))&&(ye(t,lt),(t.f&(re|Ot))===0&&(t.f^=Ot),br(t),Ut(t,0))}function Ut(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Jl(e,n[r])}function Mn(e){var t=e.f;if((t&Gt)===0){ye(e,J);var n=x,r=S,s=He;x=e,He=!0;try{(t&mn)!==0?Vl(e):Sr(e),Tr(e);var l=Nr(e);e.teardown=typeof l=="function"?l:null,e.wv=Cr;var i=e.deps,a;Un&&xl&&e.f&Te}catch(c){Jt(c,e,n,r||e.ctx)}finally{He=s,x=n}}}function jl(){try{bl()}catch(e){if(Vt!==null)Jt(e,Vt,null);else throw e}}function Ql(){var e=He;try{var t=0;for(He=!0;Bt.length>0;){t++>1e3&&jl();var n=Bt,r=n.length;Bt=[];for(var s=0;s<r;s++){var l=es(n[s]);Zl(l)}}}finally{_n=!1,He=e,Vt=null}}function Zl(e){var t=e.length;if(t!==0)for(var n=0;n<t;n++){var r=e[n];if((r.f&(Gt|xe))===0)try{wt(r)&&(Mn(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?Lr(r):r.fn=null))}catch(s){Jt(s,r,null,r.ctx)}}}function jt(e){_n||(_n=!0,queueMicrotask(Ql));for(var t=Vt=e;t.parent!==null;){t=t.parent;var n=t.f;if((n&(rt|Ee))!==0){if((n&J)===0)return;t.f^=J}}Bt.push(t)}function es(e){for(var t=[],n=e;n!==null;){var r=n.f,s=(r&(Ee|rt))!==0,l=s&&(r&J)!==0;if(!l&&(r&xe)===0){if((r&or)!==0)t.push(n);else if(s)n.f^=J;else{var i=m;try{m=n,wt(n)&&Mn(n)}catch(u){Jt(u,n,null,n.ctx)}finally{m=i}}var a=n.first;if(a!==null){n=a;continue}}var c=n.parent;for(n=n.next;n===null&&c!==null;)n=c.next,c=c.parent}return t}function v(e){var t=e.f,n=(t&le)!==0;if(Ve!==null&&Ve.add(e),m!==null&&!oe){_e!==null&&_e.includes(e)&&ml();var r=m.deps;e.rv<Ht&&(e.rv=Ht,P===null&&r!==null&&r[X]===e?X++:P===null?P=[e]:(!Ne||!P.includes(e))&&P.push(e))}else if(n&&e.deps===null&&e.effects===null){var s=e,l=s.parent;l!==null&&(l.f&re)===0&&(s.f^=re)}return n&&(s=e,wt(s)&&mr(s)),e.v}function ts(e){var t=Ve;Ve=new Set;var n=Ve,r;try{if(it(e),t!==null)for(r of Ve)t.add(r)}finally{Ve=t}return n}function Dt(e){var t=ts(()=>it(e));for(var n of t)if((n.f&hl)!==0)for(const r of n.deps||[])(r.f&le)===0&&It(r,r.v);else It(n,n.v)}function it(e){var t=oe;try{return oe=!0,e()}finally{oe=t}}const ns=-7169;function ye(e,t){e.f=e.f&ns|t}function rs(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Pt in e)yn(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Pt in n&&yn(n)}}}function yn(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{yn(e[r],t)}catch{}const n=ar(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=ir(n);for(let s in r){const l=r[s].get;if(l)try{l.call(e)}catch{}}}}}const ls=["touchstart","touchmove"];function ss(e){return ls.includes(e)}let jn=!1;function is(){jn||(jn=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function Br(e){var t=m,n=x;Ke(null),Oe(null);try{return e()}finally{Ke(t),Oe(n)}}function Kr(e,t,n,r=n){e.addEventListener(t,()=>Br(n));const s=e.__on_r;s?e.__on_r=()=>{s(),r(!0)}:e.__on_r=()=>r(!0),is()}const as=new Set,Qn=new Set;function os(e,t,n,r={}){function s(l){if(r.capture||pt.call(t,l),!l.cancelBubble)return Br(()=>n==null?void 0:n.call(this,l))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Ul(()=>{t.addEventListener(e,s,r)}):t.addEventListener(e,s,r),s}function O(e,t,n,r,s){var l={capture:r,passive:s},i=os(e,t,n,l);(t===document.body||t===window||t===document)&&xr(()=>{t.removeEventListener(e,i,l)})}function pt(e){var H;var t=this,n=t.ownerDocument,r=e.type,s=((H=e.composedPath)==null?void 0:H.call(e))||[],l=s[0]||e.target,i=0,a=e.__root;if(a){var c=s.indexOf(a);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var u=s.indexOf(t);if(u===-1)return;c<=u&&(i=c)}if(l=s[i]||e.target,l!==t){sr(e,"currentTarget",{configurable:!0,get(){return l||n}});var h=m,y=x;Ke(null),Oe(null);try{for(var o,f=[];l!==null;){var _=l.assignedSlot||l.parentNode||l.host||null;try{var L=l["__"+r];if(L!=null&&(!l.disabled||e.target===l))if(lr(L)){var[V,...E]=L;V.apply(l,[e,...E])}else L.call(l,e)}catch(j){o?f.push(j):o=j}if(e.cancelBubble||_===t||_===null)break;l=_}if(o){for(let j of f)queueMicrotask(()=>{throw j});throw o}}finally{e.__root=t,delete e.currentTarget,Ke(h),Oe(y)}}}function Or(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function gn(e,t){var n=x;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function T(e,t){var n=(t&Ml)!==0,r=(t&Fl)!==0,s,l=!e.startsWith("<!>");return()=>{s===void 0&&(s=Or(l?e:"<!>"+e),n||(s=nt(s)));var i=r||_r?document.importNode(s,!0):s.cloneNode(!0);if(n){var a=nt(i),c=i.lastChild;gn(a,c)}else gn(i,i);return i}}function Pr(e,t,n="svg"){var r=!e.startsWith("<!>"),s=`<${n}>${r?e:"<!>"+e}</${n}>`,l;return()=>{if(!l){var i=Or(s),a=nt(i);l=nt(a)}var c=l.cloneNode(!0);return gn(c,c),c}}function k(e,t){e!==null&&e.before(t)}function te(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function vs(e,t){return cs(e,t)}const Ze=new Map;function cs(e,{target:t,anchor:n,props:r={},events:s,context:l,intro:i=!0}){Ol();var a=new Set,c=y=>{for(var o=0;o<y.length;o++){var f=y[o];if(!a.has(f)){a.add(f);var _=ss(f);t.addEventListener(f,pt,{passive:_});var L=Ze.get(f);L===void 0?(document.addEventListener(f,pt,{passive:_}),Ze.set(f,1)):Ze.set(f,L+1)}}};c(bn(as)),Qn.add(c);var u=void 0,h=ql(()=>{var y=n??t.appendChild(wr());return _t(()=>{if(l){fr({});var o=S;o.c=l}s&&(r.$$events=s),u=e(y,r)||{},l&&pr()}),()=>{var _;for(var o of a){t.removeEventListener(o,pt);var f=Ze.get(o);--f===0?(document.removeEventListener(o,pt),Ze.delete(o)):Ze.set(o,f)}Qn.delete(c),y!==n&&((_=y.parentNode)==null||_.removeChild(y))}});return us.set(u,h),u}let us=new WeakMap;function Y(e,t,[n,r]=[0,0]){var s=e,l=null,i=null,a=Cl,c=n>0?kn:0,u=!1;const h=(o,f=!0)=>{u=!0,y(f,o)},y=(o,f)=>{a!==(a=o)&&(a?(l?zt(l):f&&(l=_t(()=>f(s))),i&&$t(i,()=>{i=null})):(i?zt(i):f&&(i=_t(()=>f(s,[n+1,r]))),l&&$t(l,()=>{l=null})))};Tn(()=>{u=!1,t(h),u||y(null,null)},c)}function Ce(e,t){return t}function ds(e,t,n,r){for(var s=[],l=t.length,i=0;i<l;i++)Sn(t[i].e,s,!0);var a=l>0&&s.length===0&&n!==null;if(a){var c=n.parentNode;Pl(c),c.append(n),r.clear(),Ae(e,t[0].prev,t[l-1].next)}Mr(s,()=>{for(var u=0;u<l;u++){var h=t[u];a||(r.delete(h.k),Ae(e,h.prev,h.next)),Be(h.e,!a)}})}function De(e,t,n,r,s,l=null){var i=e,a={flags:t,items:new Map,first:null};{var c=e;i=c.appendChild(wr())}var u=null,h=!1,y=ft(()=>{var o=n();return lr(o)?o:o==null?[]:bn(o)});Tn(()=>{var o=v(y),f=o.length;h&&f===0||(h=f===0,fs(o,a,i,s,t,r,n),l!==null&&(f===0?u?zt(u):u=_t(()=>l(i)):u!==null&&$t(u,()=>{u=null})),v(y))})}function fs(e,t,n,r,s,l,i){var a=e.length,c=t.items,u=t.first,h=u,y,o=null,f=[],_=[],L,V,E,H;for(H=0;H<a;H+=1){if(L=e[H],V=l(L,H),E=c.get(V),E===void 0){var j=h?h.e.nodes_start:n;o=hs(j,t,o,o===null?t.first:o.next,L,V,H,r,s,i),c.set(V,o),f=[],_=[],h=o.next;continue}if(ps(E,L,H),(E.e.f&xe)!==0&&zt(E.e),E!==h){if(y!==void 0&&y.has(E)){if(f.length<_.length){var Pe=_[0],B;o=Pe.prev;var Re=f[0],Ie=f[f.length-1];for(B=0;B<f.length;B+=1)Zn(f[B],Pe,n);for(B=0;B<_.length;B+=1)y.delete(_[B]);Ae(t,Re.prev,Ie.next),Ae(t,o,Re),Ae(t,Ie,Pe),h=Pe,o=Ie,H-=1,f=[],_=[]}else y.delete(E),Zn(E,h,n),Ae(t,E.prev,E.next),Ae(t,E,o===null?t.first:o.next),Ae(t,o,E),o=E;continue}for(f=[],_=[];h!==null&&h.k!==V;)(h.e.f&xe)===0&&(y??(y=new Set)).add(h),_.push(h),h=h.next;if(h===null)continue;E=h}f.push(E),o=E,h=E.next}if(h!==null||y!==void 0){for(var $e=y===void 0?[]:bn(y);h!==null;)(h.e.f&xe)===0&&$e.push(h),h=h.next;var Qt=$e.length;if(Qt>0){var at=a===0?n:null;ds(t,$e,at,c)}}x.first=t.first&&t.first.e,x.last=o&&o.e}function ps(e,t,n,r){It(e.v,t),e.i=n}function hs(e,t,n,r,s,l,i,a,c,u){var h=(c&Tl)!==0,y=(c&Ll)===0,o=h?y?xn(s):Rt(s):s,f=(c&Sl)===0?i:Rt(i),_={i:f,v:o,k:l,a:null,e:null,prev:n,next:r};try{return _.e=_t(()=>a(e,o,f,u),Bl),_.e.prev=n&&n.e,_.e.next=r&&r.e,n===null?t.first=_:(n.next=_,n.e.next=_.e),r!==null&&(r.prev=_,r.e.prev=_.e),_}finally{}}function Zn(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,s=t?t.e.nodes_start:n,l=e.e.nodes_start;l!==r;){var i=Yt(l);s.before(l),l=i}}function Ae(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}const er=[...` 	
\r\f \v\uFEFF`];function _s(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var s in n)if(n[s])r=r?r+" "+s:s;else if(r.length)for(var l=s.length,i=0;(i=r.indexOf(s,i))>=0;){var a=i+l;(i===0||er.includes(r[i-1]))&&(a===r.length||er.includes(r[a]))?r=(i===0?"":r.substring(0,i))+r.substring(a+1):i=a}}return r===""?null:r}function ys(e,t){return e==null?null:String(e)}function he(e,t,n,r,s,l){var i=e.__className;if(i!==n){var a=_s(n,r,l);a==null?e.removeAttribute("class"):e.className=a,e.__className=n}else if(l&&s!==l)for(var c in l){var u=!!l[c];(s==null||u!==!!s[c])&&e.classList.toggle(c,u)}return l}function dt(e,t,n,r){var s=e.__style;if(s!==t){var l=ys(t);l==null?e.removeAttribute("style"):e.style.cssText=l,e.__style=t}return r}const gs=Symbol("is custom element"),ws=Symbol("is html");function bs(e,t){var n=Rr(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function ms(e,t,n,r){var s=Rr(e);s[t]!==(s[t]=n)&&(n==null?e.removeAttribute(t):typeof n!="string"&&ks(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Rr(e){return e.__attributes??(e.__attributes={[gs]:e.nodeName.includes("-"),[ws]:e.namespaceURI===Dl})}var tr=new Map;function ks(e){var t=tr.get(e.nodeName);if(t)return t;tr.set(e.nodeName,t=[]);for(var n,r=e,s=Element.prototype;s!==r;){n=ir(r);for(var l in n)n[l].set&&t.push(l);r=ar(r)}return t}function xs(e,t,n=t){var r=gt();Kr(e,"input",s=>{var l=s?e.defaultValue:e.value;if(l=dn(e)?fn(l):l,n(l),r&&l!==(l=t())){var i=e.selectionStart,a=e.selectionEnd;e.value=l??"",a!==null&&(e.selectionStart=i,e.selectionEnd=Math.min(a,e.value.length))}}),it(t)==null&&e.value&&n(dn(e)?fn(e.value):e.value),Er(()=>{var s=t();dn(e)&&s===fn(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function dn(e){var t=e.type;return t==="number"||t==="range"}function fn(e){return e===""?null:+e}function Ir(e,t,n){if(e.multiple)return Ts(e,t);for(var r of e.options){var s=ht(r);if(Kl(s,t)){r.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function Es(e,t){Xt(()=>{var n=new MutationObserver(()=>{var r=e.__value;Ir(e,r)});return n.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{n.disconnect()}})}function At(e,t,n=t){var r=!0;Kr(e,"change",s=>{var l=s?"[selected]":":checked",i;if(e.multiple)i=[].map.call(e.querySelectorAll(l),ht);else{var a=e.querySelector(l)??e.querySelector("option:not([disabled])");i=a&&ht(a)}n(i)}),Xt(()=>{var s=t();if(Ir(e,s,r),r&&s===void 0){var l=e.querySelector(":checked");l!==null&&(s=ht(l),n(s))}e.__value=s,r=!1}),Es(e)}function Ts(e,t){for(var n of e.options)n.selected=~t.indexOf(ht(n))}function ht(e){return"__value"in e?e.__value:e.value}function Ss(e=!1){const t=S,n=t.l.u;if(!n)return;let r=()=>rs(t.s);if(e){let s=0,l={};const i=En(()=>{let a=!1;const c=t.s;for(const u in c)c[u]!==l[u]&&(l[u]=c[u],a=!0);return a&&s++,s});r=()=>v(i)}n.b.length&&zl(()=>{nr(t,r),pn(n.b)}),hn(()=>{const s=it(()=>n.m.map(fl));return()=>{for(const l of s)typeof l=="function"&&l()}}),n.a.length&&hn(()=>{nr(t,r),pn(n.a)})}function nr(e,t){if(e.l.s)for(const n of e.l.s)v(n);t()}function $r(e,t,n){if(e==null)return t(void 0),tt;const r=it(()=>e.subscribe(t,n));return r.unsubscribe?()=>r.unsubscribe():r}const et=[];function q(e,t=tt){let n=null;const r=new Set;function s(a){if(ur(e,a)&&(e=a,n)){const c=!et.length;for(const u of r)u[1](),et.push(u,e);if(c){for(let u=0;u<et.length;u+=2)et[u][0](et[u+1]);et.length=0}}}function l(a){s(a(e))}function i(a,c=tt){const u=[a,c];return r.add(u),r.size===1&&(n=t(s,l)||tt),a(e),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:s,update:l,subscribe:i}}function Ls(e){let t;return $r(e,n=>t=n)(),t}let wn=Symbol();function ne(e,t,n){const r=n[t]??(n[t]={store:null,source:xn(void 0),unsubscribe:tt});if(r.store!==e&&!(wn in n))if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=tt;else{var s=!0;r.unsubscribe=$r(e,l=>{s?r.source.v=l:ae(r.source,l)}),s=!1}return e&&wn in n?Ls(e):v(r.source)}function w(e,t){return e.set(t),t}function Ms(){const e={};function t(){xr(()=>{for(var n in e)e[n].unsubscribe();sr(e,wn,{enumerable:!1,value:!0})})}return[e,t]}function Fs(e){S===null&&Al(),yt&&S.l!==null?Cs(S).m.push(e):hn(()=>{const t=it(e);if(typeof t=="function")return t})}function Cs(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const Ds="5";var rr;typeof window<"u"&&((rr=window.__svelte??(window.__svelte={})).v??(rr.v=new Set)).add(Ds);El();var As=T('<div class="landing-page svelte-vp40h2"><div class="logo-container svelte-vp40h2"><img src="" alt="logo" class="logo svelte-vp40h2"></div> <div class="content-container svelte-vp40h2"><h1 class="title svelte-vp40h2">WebConfigurator</h1> <p class="subtitle svelte-vp40h2">customize your keyboard</p> <div class="button-container svelte-vp40h2"><button class="connect-button svelte-vp40h2"><span class="status-dot svelte-vp40h2"></span> connect <svg viewBox="0 0 24 24" class="arrow-icon svelte-vp40h2"><path d="M7 17L17 7M17 7H7M17 7V17"></path></svg></button> <button class="demo-button svelte-vp40h2">Try Demo</button></div></div> <div class="version svelte-vp40h2">0.0.1 β</div></div>'),Ns=Pr('<svg viewBox="0 0 24 24" width="24" height="24" class="svelte-vp40h2"><path d="M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zM2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1zm18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1zM11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1zm0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1zM5.99 4.58c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0s.39-1.03 0-1.41L5.99 4.58zm12.37 12.37c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0 .39-.39.39-1.03 0-1.41l-1.06-1.06zm1.06-10.96c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06zM7.05 18.36c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06z"></path></svg>'),Bs=Pr('<svg viewBox="0 0 24 24" width="24" height="24" class="svelte-vp40h2"><path d="M9.37 5.51c-.18.64-.27 1.31-.27 1.99 0 4.08 3.32 7.4 7.4 7.4.68 0 1.35-.09 1.99-.27C17.45 17.19 14.93 19 12 19c-3.86 0-7-3.14-7-7 0-2.93 1.81-5.45 4.37-6.49zM12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9c0-.46-.04-.92-.1-1.36-.98 1.37-2.58 2.26-4.4 2.26-2.98 0-5.4-2.42-5.4-5.4 0-1.81.89-3.42 2.26-4.4-.44-.06-.9-.1-1.36-.1z"></path></svg>'),Ks=T('<button><span class="key-text svelte-vp40h2"> </span></button>'),Os=T('<div class="key-row svelte-vp40h2"></div>'),Ps=T("<option> </option>"),Rs=T("<option> </option>"),Is=T('<div class="form-group svelte-vp40h2"><label for="keyAction" class="svelte-vp40h2">Key:</label> <div class="key-input-container svelte-vp40h2"><input type="text" id="keyAction" placeholder="Press a key" class="svelte-vp40h2"> <div class="key-suggestions svelte-vp40h2"><button class="key-suggestion svelte-vp40h2">A</button> <button class="key-suggestion svelte-vp40h2">B</button> <button class="key-suggestion svelte-vp40h2">C</button> <button class="key-suggestion svelte-vp40h2">1</button> <button class="key-suggestion svelte-vp40h2">2</button> <button class="key-suggestion svelte-vp40h2">3</button></div></div></div>'),$s=T('<div class="form-group svelte-vp40h2"><label for="macroText" class="svelte-vp40h2">Macro Sequence:</label> <textarea id="macroText" placeholder="Type your macro sequence" rows="3" class="svelte-vp40h2"></textarea> <div class="macro-builder svelte-vp40h2"><button class="macro-btn svelte-vp40h2">+ Key</button> <button class="macro-btn svelte-vp40h2">+ Delay</button> <button class="macro-btn svelte-vp40h2">+ Mouse</button> <button class="macro-btn svelte-vp40h2">+ Text</button></div> <p class="hint svelte-vp40h2">Example: CTRL+C, delay 100, CTRL+V</p></div> <div class="form-group svelte-vp40h2"><div class="checkbox-group svelte-vp40h2"><label class="svelte-vp40h2"><input type="checkbox" class="svelte-vp40h2"> Play once</label> <label class="svelte-vp40h2"><input type="checkbox" checked class="svelte-vp40h2"> Play while pressed</label> <label class="svelte-vp40h2"><input type="checkbox" class="svelte-vp40h2"> Toggle on press</label></div></div>',1),zs=T("<option> </option>"),qs=T('<p class="hint svelte-vp40h2">Key will toggle to the selected layer when pressed</p>'),Vs=T('<p class="hint svelte-vp40h2">Layer is active only while key is held down</p>'),Hs=T('<div class="form-group svelte-vp40h2"><label for="targetLayer" class="svelte-vp40h2">Target Layer:</label> <select id="targetLayer" class="svelte-vp40h2"></select></div> <!>',1),Us=T('<div class="form-group svelte-vp40h2"><label for="mediaAction" class="svelte-vp40h2">Media Action:</label> <select id="mediaAction" class="svelte-vp40h2"><option>Play/Pause</option><option>Next Track</option><option>Previous Track</option><option>Volume Up</option><option>Volume Down</option><option>Mute</option></select></div>'),Ws=T('<div class="key-config svelte-vp40h2"><h4 class="svelte-vp40h2"> </h4> <div class="form-group svelte-vp40h2"><label for="keyFunction" class="svelte-vp40h2">Function Type:</label> <select id="keyFunction" class="svelte-vp40h2"></select></div> <!> <div class="actions"><button class="btn primary svelte-vp40h2">Apply</button> <button class="btn svelte-vp40h2">Cancel</button></div></div>'),Gs=T('<div class="instruction svelte-vp40h2"><p>Select a key on the keyboard to configure its binding</p> <div class="key-preview svelte-vp40h2"><div class="key-preview-item svelte-vp40h2"><div class="key-preview-icon yellow svelte-vp40h2"></div> <span>Special Function</span></div> <div class="key-preview-item svelte-vp40h2"><div class="key-preview-icon svelte-vp40h2"></div> <span>Standard Key</span></div> <div class="key-preview-item svelte-vp40h2"><div class="key-preview-icon selected svelte-vp40h2"></div> <span>Selected Key</span></div></div></div>'),Ys=T('<div class="panel-content svelte-vp40h2"><h3 class="svelte-vp40h2">Key Binding Configuration</h3> <p class="explanation svelte-vp40h2">Customize what each key does when pressed</p> <div class="layer-selector"><label for="activeLayer">Current Layer:</label> <select id="activeLayer"></select></div> <!></div>'),Xs=T('<div><span class="layer-name"> </span> <div class="layer-actions svelte-vp40h2"><button class="btn small svelte-vp40h2">Activate</button></div></div>'),Js=T('<div class="panel-content svelte-vp40h2"><h3 class="svelte-vp40h2">Layer Management</h3> <p class="explanation svelte-vp40h2">Create and manage keyboard layers for different functions</p> <div class="layer-list svelte-vp40h2"></div></div>'),js=T("<option> </option>"),Qs=T('<div><input type="color" class="svelte-vp40h2"> <button class="color-toggle svelte-vp40h2"> </button></div>'),Zs=T('<div class="panel-content svelte-vp40h2"><h3 class="svelte-vp40h2">Keyboard Underglow</h3> <p class="explanation svelte-vp40h2">Customize the RGB lighting effects around your keyboard</p> <div class="form-group svelte-vp40h2"><label for="lightingMode" class="svelte-vp40h2">Effect Mode:</label> <select id="lightingMode" class="svelte-vp40h2"></select></div> <div class="color-palette svelte-vp40h2"><h4 class="svelte-vp40h2">Color Palette (up to 7 colors)</h4> <div class="color-slots svelte-vp40h2"></div></div> <div class="form-group svelte-vp40h2"><label for="brightness" class="svelte-vp40h2">Brightness:</label> <div class="custom-slider brightness-slider svelte-vp40h2"><div class="slider-track svelte-vp40h2"></div> <div class="slider-fill svelte-vp40h2"></div> <div class="slider-handle svelte-vp40h2"></div></div> <div class="range-labels svelte-vp40h2"><span>Low</span> <span>High</span></div></div> <div class="form-group svelte-vp40h2"><label for="speed" class="svelte-vp40h2">Effect Speed:</label> <div class="custom-slider speed-slider svelte-vp40h2"><div class="slider-track svelte-vp40h2"></div> <div class="slider-fill svelte-vp40h2"></div> <div class="slider-handle svelte-vp40h2"></div></div> <div class="range-labels svelte-vp40h2"><span>Slow</span> <span>Fast</span></div></div></div>'),ei=T(`<div class="panel-content svelte-vp40h2"><h3 class="svelte-vp40h2">Keyboard Options</h3> <p class="explanation svelte-vp40h2">Configure additional hardware features</p> <div class="form-group svelte-vp40h2"><button class="btn primary svelte-vp40h2">Update Board Time</button> <p class="option-description svelte-vp40h2">Synchronize the keyboard's clock with your computer</p></div> <div class="form-group svelte-vp40h2"><button class="btn primary svelte-vp40h2">Apply Changes</button></div></div>`),ti=T("<div><!></div>"),ni=T('<header class="svelte-vp40h2"><div class="logo svelte-vp40h2"><span class="duck-emoji svelte-vp40h2">🦆</span> <h1>PsychoDuck Tech</h1></div> <button class="dark-mode-toggle svelte-vp40h2"><!></button></header> <div><div class="keyboard svelte-vp40h2"><div class="side-display svelte-vp40h2"><div class="display-values svelte-vp40h2"><div class="display-value"> </div> <div class="display-value"> </div></div> <div class="music-player svelte-vp40h2"><div class="track-info svelte-vp40h2">Now Playing: Spotify</div> <div class="controls svelte-vp40h2"><button class="control-btn svelte-vp40h2">⏮</button> <button class="control-btn svelte-vp40h2">▶</button> <button class="control-btn svelte-vp40h2">⏭</button></div> <div class="progress-dots svelte-vp40h2"><span class="dot active svelte-vp40h2"></span> <span class="dot svelte-vp40h2"></span> <span class="dot svelte-vp40h2"></span> <span class="dot svelte-vp40h2"></span> <span class="dot svelte-vp40h2"></span></div></div></div> <div class="keyboard-layout svelte-vp40h2"></div></div></div> <div class="main-interface svelte-vp40h2"><div class="bottom-bar svelte-vp40h2"><div class="nav-buttons svelte-vp40h2"><button title="Key Bindings"><svg viewBox="0 0 24 24" width="24" height="24" class="svelte-vp40h2"><path d="M20 5H4c-1.1 0-1.99.9-1.99 2L2 17c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm-9 3h2v2h-2V8zm0 3h2v2h-2v-2zM8 8h2v2H8V8zm0 3h2v2H8v-2zm-1 2H5v-2h2v2zm0-3H5V8h2v2zm9 7H8v-2h8v2zm0-4h-2v-2h2v2zm0-3h-2V8h2v2zm3 3h-2v-2h2v2zm0-3h-2V8h2v2z"></path></svg></button> <button title="Layers"><svg viewBox="0 0 24 24" width="24" height="24" class="svelte-vp40h2"><path d="M11.99 18.54l-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27-7.38 5.74zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27L12 16z"></path></svg></button> <button title="Lighting"><svg viewBox="0 0 24 24" width="24" height="24" class="svelte-vp40h2"><path d="M9 21c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-1H9v1zm3-19C8.14 2 5 5.14 5 9c0 2.38 1.19 4.47 3 5.74V17c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74 0-3.86-3.14-7-7-7z"></path></svg></button> <button title="Keyboard Options"><svg viewBox="0 0 24 24" width="24" height="24" class="svelte-vp40h2"><path d="M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58z"></path></svg></button></div> <div class="status-info svelte-vp40h2"><div class="product-info svelte-vp40h2"><div class="product-name svelte-vp40h2">PROTOTYPE 0</div> <div class="connection-status svelte-vp40h2"> </div></div> <button class="disconnect-btn svelte-vp40h2"> </button></div></div> <!></div>',1),ri=T("<main><!></main>");function li(e,t){fr(t,!1);const[n,r]=Ms(),s=()=>ne(bt,"$keyBindings",n),l=()=>ne(E,"$isDemo",n),i=()=>ne(V,"$isConnected",n),a=()=>ne(j,"$showConfig",n),c=()=>ne(Fn,"$layers",n),u=()=>ne($e,"$lightingMode",n),h=()=>ne(at,"$brightness",n),y=()=>ne(Zt,"$speed",n),o=()=>ne(Pe,"$darkMode",n),f=()=>ne(Re,"$selectedKey",n),_=()=>ne(B,"$activeTab",n),L=()=>ne(Ie,"$activeLayer",n),V=q(!1),E=q(!1),H=q(null),j=q(!1),Pe=q(!1),B=q(null),Re=q(null),Ie=q(0),$e=q("static"),Qt=q("#FFAB07"),at=q(100),Zt=q(50),Fn=q([{id:0,name:"Layer 1"},{id:1,name:"Layer 2"},{id:2,name:"Layer 3"}]),bt=q({0:{},1:{},2:{}}),zr=[{id:"standard",name:"Standard Key"},{id:"macro",name:"Macro"},{id:"media",name:"Media Control"},{id:"layer_toggle",name:"Layer Toggle"},{id:"layer_hold",name:"Layer Hold"},{id:"modifier",name:"Modifier Key"},{id:"shortcut",name:"Application Shortcut"}];let C=Ct("standard"),ot=Ct(""),ge=Ct(0);const qr=[{id:"static",name:"Static"},{id:"breathing",name:"Breathing"},{id:"rainbow",name:"Rainbow Wave"},{id:"reactive",name:"Reactive"},{id:"ripple",name:"Ripple"},{id:"audio",name:"Audio Reactive"},{id:"gradient",name:"Gradient Shift"},{id:"wave",name:"Wave"},{id:"starlight",name:"Starlight"}];let Cn=Ct([{id:0,color:"#FFAB07",active:!0},{id:1,color:"#9983FF",active:!0},{id:2,color:"#F6465D",active:!0},{id:3,color:"#00FF00",active:!1},{id:4,color:"#00FFFF",active:!1},{id:5,color:"#FFFFFF",active:!1},{id:6,color:"#FF00FF",active:!1}]);const Dn=[[{key:"Esc",code:"Escape",x:0,y:0,w:1,h:1,color:"yellow"},{key:"F1",code:"F1",x:1.5,y:0,w:1,h:1},{key:"F2",code:"F2",x:2.5,y:0,w:1,h:1},{key:"F3",code:"F3",x:3.5,y:0,w:1,h:1},{key:"F4",code:"F4",x:4.5,y:0,w:1,h:1},{key:"F5",code:"F5",x:5.5,y:0,w:1,h:1},{key:"F6",code:"F6",x:6.5,y:0,w:1,h:1},{key:"F7",code:"F7",x:7.5,y:0,w:1,h:1},{key:"F8",code:"F8",x:8.5,y:0,w:1,h:1},{key:"F9",code:"F9",x:9.5,y:0,w:1,h:1},{key:"F10",code:"F10",x:10.5,y:0,w:1,h:1},{key:"F11",code:"F11",x:11.5,y:0,w:1,h:1},{key:"F12",code:"F12",x:12.5,y:0,w:1,h:1},{key:"PRT",code:"PrintScreen",x:14,y:0,w:1,h:1,color:"yellow"},{key:"INS",code:"Insert",x:15,y:0,w:1,h:1,color:"yellow"},{key:"Del",code:"Delete",x:16,y:0,w:1,h:1,color:"yellow"}],[{key:"`",code:"Backquote",x:0,y:1,w:1,h:1},{key:"1",code:"Digit1",x:1,y:1,w:1,h:1},{key:"2",code:"Digit2",x:2,y:1,w:1,h:1},{key:"3",code:"Digit3",x:3,y:1,w:1,h:1},{key:"4",code:"Digit4",x:4,y:1,w:1,h:1},{key:"5",code:"Digit5",x:5,y:1,w:1,h:1},{key:"6",code:"Digit6",x:6,y:1,w:1,h:1},{key:"7",code:"Digit7",x:7,y:1,w:1,h:1},{key:"8",code:"Digit8",x:8,y:1,w:1,h:1},{key:"9",code:"Digit9",x:9,y:1,w:1,h:1},{key:"0",code:"Digit0",x:10,y:1,w:1,h:1},{key:"-",code:"Minus",x:11,y:1,w:1,h:1},{key:"=",code:"Equal",x:12,y:1,w:1,h:1},{key:"BACK",code:"Backspace",x:13,y:1,w:2,h:1},{key:"HOME",code:"Home",x:16,y:1,w:1,h:1}],[{key:"TAB",code:"Tab",x:0,y:2,w:1.5,h:1},{key:"Q",code:"KeyQ",x:1.5,y:2,w:1,h:1},{key:"W",code:"KeyW",x:2.5,y:2,w:1,h:1},{key:"E",code:"KeyE",x:3.5,y:2,w:1,h:1},{key:"R",code:"KeyR",x:4.5,y:2,w:1,h:1},{key:"T",code:"KeyT",x:5.5,y:2,w:1,h:1},{key:"Y",code:"KeyY",x:6.5,y:2,w:1,h:1},{key:"U",code:"KeyU",x:7.5,y:2,w:1,h:1},{key:"I",code:"KeyI",x:8.5,y:2,w:1,h:1},{key:"O",code:"KeyO",x:9.5,y:2,w:1,h:1},{key:"P",code:"KeyP",x:10.5,y:2,w:1,h:1},{key:"[",code:"BracketLeft",x:11.5,y:2,w:1,h:1},{key:"]",code:"BracketRight",x:12.5,y:2,w:1,h:1},{key:"\\",code:"Backslash",x:13.5,y:2,w:1.5,h:1},{key:"END",code:"End",x:16,y:2,w:1,h:1}],[{key:"CAPS",code:"CapsLock",x:0,y:3,w:1.75,h:1},{key:"A",code:"KeyA",x:1.75,y:3,w:1,h:1},{key:"S",code:"KeyS",x:2.75,y:3,w:1,h:1},{key:"D",code:"KeyD",x:3.75,y:3,w:1,h:1},{key:"F",code:"KeyF",x:4.75,y:3,w:1,h:1},{key:"G",code:"KeyG",x:5.75,y:3,w:1,h:1},{key:"H",code:"KeyH",x:6.75,y:3,w:1,h:1},{key:"J",code:"KeyJ",x:7.75,y:3,w:1,h:1},{key:"K",code:"KeyK",x:8.75,y:3,w:1,h:1},{key:"L",code:"KeyL",x:9.75,y:3,w:1,h:1},{key:";",code:"Semicolon",x:10.75,y:3,w:1,h:1},{key:"'",code:"Quote",x:11.75,y:3,w:1,h:1},{key:"ENTER",code:"Enter",x:12.75,y:3,w:2.25,h:1,color:"yellow"},{key:"PGUP",code:"PageUp",x:16,y:3,w:1,h:1}],[{key:"SHIFT",code:"ShiftLeft",x:0,y:4,w:2.25,h:1},{key:"Z",code:"KeyZ",x:2.25,y:4,w:1,h:1},{key:"X",code:"KeyX",x:3.25,y:4,w:1,h:1},{key:"C",code:"KeyC",x:4.25,y:4,w:1,h:1},{key:"V",code:"KeyV",x:5.25,y:4,w:1,h:1},{key:"B",code:"KeyB",x:6.25,y:4,w:1,h:1},{key:"N",code:"KeyN",x:7.25,y:4,w:1,h:1},{key:"M",code:"KeyM",x:8.25,y:4,w:1,h:1},{key:",",code:"Comma",x:9.25,y:4,w:1,h:1},{key:".",code:"Period",x:10.25,y:4,w:1,h:1},{key:"/",code:"Slash",x:11.25,y:4,w:1,h:1},{key:"SHIFT",code:"ShiftRight",x:12.25,y:4,w:2.75,h:1},{key:"↑",code:"ArrowUp",x:15,y:4,w:1,h:1,color:"yellow"},{key:"PGDN",code:"PageDown",x:16,y:4,w:1,h:1}],[{key:"CTRL",code:"ControlLeft",x:0,y:5,w:1.25,h:1},{key:"WIN",code:"MetaLeft",x:1.25,y:5,w:1.25,h:1},{key:"ALT",code:"AltLeft",x:2.5,y:5,w:1.25,h:1},{key:"",code:"Space",x:3.75,y:5,w:6.25,h:1,color:"yellow"},{key:"ALT",code:"AltRight",x:10,y:5,w:1.25,h:1},{key:"FN",code:"ContextMenu",x:11.25,y:5,w:1.25,h:1},{key:"CTRL",code:"ControlRight",x:12.5,y:5,w:1.25,h:1},{key:"←",code:"ArrowLeft",x:14,y:5,w:1,h:1,color:"yellow"},{key:"↓",code:"ArrowDown",x:15,y:5,w:1,h:1,color:"yellow"},{key:"→",code:"ArrowRight",x:16,y:5,w:1,h:1,color:"yellow"}]];Fs(()=>{let g={};Dn.forEach(K=>{K.forEach(ce=>{g[ce.code]={type:"standard",value:ce.code,display:ce.key}})}),w(bt,{0:g,1:{},2:{}})});let ve,mt,we;async function An(){if(l()){w(V,!0),w(j,!0);return}try{ve=await navigator.serial.requestPort(),await ve.open({baudRate:115200}),mt=ve.readable.getReader(),we=ve.writable.getWriter();const g=new TextEncoder;await we.write(g.encode(`HELLO
`));const{value:b,done:se}=await mt.read();if(!se){const K=new TextDecoder,ce=JSON.parse(K.decode(b));w(H,ce),await we.write(g.encode(`GET_CONFIG
`));const{value:vt}=await mt.read(),be=JSON.parse(K.decode(vt));w(Fn,be.layers),w(bt,be.keyBindings),w($e,be.lightingMode),w(Qt,be.lightingColor),w(at,be.brightness),w(Zt,be.speed),ae(Cn,be.underglowColors)}w(V,!0),w(j,!0)}catch(g){console.error("Connection failed:",g),alert("Failed to connect to device. Please try again or use Demo mode.")}}async function Vr(){!l()&&ve&&(await we.write(new TextEncoder().encode(`BYE
`)),we.releaseLock(),mt.releaseLock(),await ve.close()),w(V,!1),w(j,!1),w(E,!1)}function Hr(){w(E,!0),w(V,!0),w(j,!0)}function Ur(){w(Pe,!o()),o()?document.body.classList.add("dark-mode"):document.body.classList.remove("dark-mode")}function Wr(g){w(Re,g),_()!=="keybindings"&&w(B,"keybindings");const b=s()[L()][g.code];b?(ae(C,b.type),b.type==="macro"?ae(ot,b.value):(b.type==="layer_toggle"||b.type==="layer_hold")&&ae(ge,b.value)):(ae(C,"standard"),ae(ot,""),ae(ge,0))}async function Gr(){if(f()){let g={type:v(C),value:"",display:""};if(v(C)==="standard"?(g.value=f().code,g.display=f().key):v(C)==="macro"?(g.value=v(ot),g.display="MACRO"):v(C)==="layer_toggle"?(g.value=v(ge),g.display=`TO:${v(ge)+1}`):v(C)==="layer_hold"?(g.value=v(ge),g.display=`MO:${v(ge)+1}`):v(C)==="media"&&(g.value=document.getElementById("mediaAction").value,g.display="MEDIA"),w(bt,{...s(),[L()]:{...s()[L()],[f().code]:g}}),i()&&!l()&&ve){const b={action:"SET_KEY_BINDING",layer:L(),keyCode:f().code,binding:g};await we.write(new TextEncoder().encode(JSON.stringify(b)+`
`))}w(Re,null)}}async function Yr(){if(i()){const b=new Date().toISOString();!l()&&ve&&await we.write(new TextEncoder().encode(`SET_TIME ${b}
`)),alert("Board time updated successfully!")}}let en=!1,tn=!1,kt,xt;function Nn(g,b){b==="brightness"?(en=!0,kt=g.clientX,xt=h()):(tn=!0,kt=g.clientX,xt=y()),window.addEventListener("mousemove",Bn),window.addEventListener("mouseup",Kn)}async function Bn(g){if(en){const b=document.querySelector(".brightness-slider").offsetWidth,se=g.clientX-kt,K=Math.max(0,Math.min(100,xt+se/b*100));at.set(K),i()&&!l()&&ve&&await we.write(new TextEncoder().encode(`SET_BRIGHTNESS ${K}
`))}if(tn){const b=document.querySelector(".speed-slider").offsetWidth,se=g.clientX-kt,K=Math.max(0,Math.min(100,xt+se/b*100));Zt.set(K),i()&&!l()&&ve&&await we.write(new TextEncoder().encode(`SET_SPEED ${K}
`))}}function Kn(){en=!1,tn=!1,window.removeEventListener("mousemove",Bn),window.removeEventListener("mouseup",Kn)}function Xr(g){const b=s()[L()][g.code];return b?b.display:g.key}Ss();var nn=ri();let On;var Jr=d(nn);{var jr=g=>{var b=As(),se=p(d(b),2),K=p(d(se),4),ce=d(K),vt=p(ce,2);O("click",ce,An),O("click",vt,Hr),k(g,b)},Qr=g=>{var b=ni(),se=un(b),K=p(d(se),2),ce=d(K);{var vt=A=>{var R=Ns();k(A,R)},be=A=>{var R=Bs();k(A,R)};Y(ce,A=>{o()?A(vt):A(be,!1)})}var rn=p(se,2);let Pn;var Zr=d(rn),Rn=d(Zr),el=d(Rn),In=d(el),tl=d(In),nl=p(In,2),rl=d(nl),ll=p(Rn,2);De(ll,5,()=>Dn,Ce,(A,R)=>{var ze=Os();De(ze,5,()=>v(R),Ce,(on,Q)=>{var qe=Ks(),ue=d(qe),Ue=d(ue);D(We=>{he(qe,1,`key ${v(Q).color||""} ${(f()===v(Q)?"selected":"")??""}`,"svelte-vp40h2"),dt(qe,`
                    grid-column: span ${v(Q).w??""};
                    grid-row: span ${v(Q).h??""};
                    left: calc(${v(Q).x??""} * var(--key-size));
                    top: calc(${v(Q).y??""} * var(--key-size));
                    width: calc(${v(Q).w??""} * var(--key-size));
                    height: calc(${v(Q).h??""} * var(--key-size));
                  `),te(Ue,We)},[()=>Xr(v(Q))],ft),O("click",qe,()=>Wr(v(Q))),k(on,qe)}),k(A,ze)});var sl=p(rn,2),$n=d(sl),zn=d($n),ln=d(zn),sn=p(ln,2),an=p(sn,2),qn=p(an,2),il=p(zn,2),Vn=d(il),al=p(d(Vn),2),ol=d(al),Hn=p(Vn,2),vl=d(Hn),cl=p($n,2);{var ul=A=>{var R=ti();let ze;var on=d(R);{var Q=ue=>{var Ue=Ys(),We=p(d(Ue),4),Et=p(d(We),2);D(()=>{L(),Dt(()=>{c()})}),De(Et,5,c,Ce,(I,M)=>{var N=Ps(),Z={},U=d(N);D(()=>{Z!==(Z=v(M).id)&&(N.value=(N.__value=v(M).id)==null?"":v(M).id),te(U,v(M).name)}),k(I,N)});var Se=p(We,2);{var Ge=I=>{var M=Ws(),N=d(M),Z=d(N),U=p(N,2),de=p(d(U),2);D(()=>{v(C),Dt(()=>{})}),De(de,5,()=>zr,Ce,(W,ie)=>{var Le=Rs(),$={},F=d(Le);D(()=>{$!==($=v(ie).id)&&(Le.value=(Le.__value=v(ie).id)==null?"":v(ie).id),te(F,v(ie).name)}),k(W,Le)});var fe=p(U,2);{var Ye=W=>{var ie=Is();k(W,ie)},Xe=(W,ie)=>{{var Le=F=>{var G=$s(),me=un(G),Me=p(d(me),2);xs(Me,()=>v(ot),pe=>ae(ot,pe)),k(F,G)},$=(F,G)=>{{var me=pe=>{var St=Hs(),Lt=un(St),je=p(d(Lt),2);D(()=>{v(ge),Dt(()=>{c()})}),De(je,5,c,Ce,(z,ee)=>{var Fe=zs(),Qe={},Ft=d(Fe);D(()=>{Qe!==(Qe=v(ee).id)&&(Fe.value=(Fe.__value=v(ee).id)==null?"":v(ee).id),te(Ft,v(ee).name)}),k(z,Fe)});var Mt=p(Lt,2);{var cn=z=>{var ee=qs();k(z,ee)},ut=z=>{var ee=Vs();k(z,ee)};Y(Mt,z=>{v(C)==="layer_toggle"?z(cn):z(ut,!1)})}At(je,()=>v(ge),z=>ae(ge,z)),k(pe,St)},Me=(pe,St)=>{{var Lt=je=>{var Mt=Us(),cn=p(d(Mt),2),ut=d(cn);ut.value=(ut.__value="play_pause")==null?"":"play_pause";var z=p(ut);z.value=(z.__value="next")==null?"":"next";var ee=p(z);ee.value=(ee.__value="prev")==null?"":"prev";var Fe=p(ee);Fe.value=(Fe.__value="vol_up")==null?"":"vol_up";var Qe=p(Fe);Qe.value=(Qe.__value="vol_down")==null?"":"vol_down";var Ft=p(Qe);Ft.value=(Ft.__value="mute")==null?"":"mute",k(je,Mt)};Y(pe,je=>{v(C)==="media"&&je(Lt)},St)}};Y(F,pe=>{v(C)==="layer_toggle"||v(C)==="layer_hold"?pe(me):pe(Me,!1)},G)}};Y(W,F=>{v(C)==="macro"?F(Le):F($,!1)},ie)}};Y(fe,W=>{v(C)==="standard"?W(Ye):W(Xe,!1)})}var Je=p(fe,2),Tt=d(Je),vn=p(Tt,2);D(()=>te(Z,`Configure: ${f().key??""}`)),At(de,()=>v(C),W=>ae(C,W)),O("click",Tt,()=>Gr()),O("click",vn,()=>w(Re,null)),k(I,M)},ct=I=>{var M=Gs();k(I,M)};Y(Se,I=>{f()?I(Ge):I(ct,!1)})}At(Et,L,I=>w(Ie,I)),k(ue,Ue)},qe=(ue,Ue)=>{{var We=Se=>{var Ge=Js(),ct=p(d(Ge),4);De(ct,5,c,Ce,(I,M)=>{var N=Xs(),Z=d(N),U=d(Z),de=p(Z,2),fe=d(de);D(()=>{he(N,1,`layer-item ${(L()===v(M).id?"active":"")??""}`,"svelte-vp40h2"),te(U,v(M).name),fe.disabled=L()===v(M).id}),O("click",fe,()=>w(Ie,v(M).id)),k(I,N)}),k(Se,Ge)},Et=(Se,Ge)=>{{var ct=M=>{var N=Zs(),Z=p(d(N),4),U=p(d(Z),2);D(()=>{u(),Dt(()=>{})}),De(U,5,()=>qr,Ce,($,F)=>{var G=js(),me={},Me=d(G);D(()=>{me!==(me=v(F).id)&&(G.value=(G.__value=v(F).id)==null?"":v(F).id),te(Me,v(F).name)}),k($,G)});var de=p(Z,2),fe=p(d(de),2);De(fe,5,()=>v(Cn),Ce,($,F)=>{var G=Qs(),me=d(G),Me=p(me,2),pe=d(Me);D(()=>{he(G,1,`color-slot ${(v(F).active?"active":"")??""}`,"svelte-vp40h2"),bs(me,v(F).color),ms(Me,"title",v(F).active?"Disable color":"Enable color"),te(pe,v(F).active?"✓":"+")}),k($,G)});var Ye=p(de,2),Xe=p(d(Ye),2),Je=p(d(Xe),2),Tt=p(Je,2),vn=p(Ye,2),W=p(d(vn),2),ie=p(d(W),2),Le=p(ie,2);D(()=>{dt(Je,`width: ${h()??""}%`),dt(Tt,`left: ${h()??""}%`),dt(ie,`width: ${y()??""}%`),dt(Le,`left: ${y()??""}%`)}),At(U,u,$=>w($e,$)),O("mousedown",Xe,$=>Nn($,"brightness")),O("mousedown",W,$=>Nn($,"speed")),k(M,N)},I=(M,N)=>{{var Z=U=>{var de=ei(),fe=p(d(de),4),Ye=d(fe),Xe=p(fe,2),Je=d(Xe);D(()=>Je.disabled=!i()),O("click",Ye,Yr),k(U,de)};Y(M,U=>{_()==="options"&&U(Z)},N)}};Y(Se,M=>{_()==="lighting"?M(ct):M(I,!1)},Ge)}};Y(ue,Se=>{_()==="layers"?Se(We):Se(Et,!1)},Ue)}};Y(on,ue=>{_()==="keybindings"?ue(Q):ue(qe,!1)})}D(ue=>ze=he(R,1,"menu-panel svelte-vp40h2",null,ze,ue),[()=>({active:_()!==null})],ft),k(A,R)};Y(cl,A=>{_()&&A(ul)})}D((A,R,ze)=>{Pn=he(rn,1,"keyboard-container svelte-vp40h2",null,Pn,A),te(tl,R),te(rl,ze),he(ln,1,`nav-btn ${(_()==="keybindings"?"active":"")??""}`,"svelte-vp40h2"),he(sn,1,`nav-btn ${(_()==="layers"?"active":"")??""}`,"svelte-vp40h2"),he(an,1,`nav-btn ${(_()==="lighting"?"active":"")??""}`,"svelte-vp40h2"),he(qn,1,`nav-btn ${(_()==="options"?"active":"")??""}`,"svelte-vp40h2"),te(ol,i()?"CONNECTED":"DISCONNECTED"),te(vl,i()?"Disconnect":"Connect")},[()=>({"menu-open":_()!==null}),()=>new Date().toLocaleTimeString(),()=>new Date().toLocaleDateString()],ft),O("click",K,Ur),O("click",ln,()=>w(B,_()==="keybindings"?null:"keybindings")),O("click",sn,()=>w(B,_()==="layers"?null:"layers")),O("click",an,()=>w(B,_()==="lighting"?null:"lighting")),O("click",qn,()=>w(B,_()==="options"?null:"options")),O("click",Hn,function(...A){var R;(R=i()?Vr:An)==null||R.apply(this,A)}),k(g,b)};Y(Jr,g=>{a()?g(Qr,!1):g(jr)})}D(g=>On=he(nn,1,"svelte-vp40h2",null,On,g),[()=>({"dark-mode":o()})],ft),k(e,nn),pr(),r()}vs(li,{target:document.getElementById("app")});
